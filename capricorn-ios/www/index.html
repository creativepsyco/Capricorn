<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="target-densityDpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
        <title>
        </title>
        <link rel="stylesheet" href="css/jquery.mobile-1.1.0.css" />
        <link rel="stylesheet" type="text/css" href="http://dev.jtsage.com/cdn/simpledialog/latest/jquery.mobile.simpledialog.min.css" /> 
        <link rel="stylesheet" href="css/my.css" />
        <link rel="stylesheet" href="css/main.css" />
        <script src="lib/jquery-1.7.2.min.js"></script>
        <script src="lib/menu.js"></script>
        <script src="lib/jquery.mobile-1.1.0.min.js"></script>
        <script type="text/javascript" src="http://dev.jtsage.com/cdn/simpledialog/latest/jquery.mobile.simpledialog2.min.js"></script>
        <style>
            /* App custom styles */
        </style>

        <script type="text/javascript">
           // Atrocious way of loading two diffent phonegap scripts, but other loading methods won't work.
            // also there shouldn't be two scripts to begin with -- so much for cross-platform.
            var userAgent = navigator.userAgent.toLowerCase();
            if (userAgent.match(/android/)) {
                document.write("<script type='text/javascript' src='lib\/cordova-1.7.0-android.js'><\/script>");
            } else {
                document.write("<script type='text/javascript' src='lib\/cordova-1.7.0-ios.js'><\/script>");
            }
            // TODO: Add Android dependency
            document.write("<script type='text/javascript' src='lib\/ChildBrowser.js'><\/script>");
        </script>

        <script src="lib/underscore-min.js"></script>
        <script src="lib/iscroll.js"></script>
        <script src="lib/backbone-min.js"></script>
        <script src="javascripts/main.js"></script>
        <script src="lib/ChildBrowser.js"></script>
        <script src="lib/offline_storage.js"></script>
        <script src="lib/Facebook.js"></script>
        <script src="lib/IVLE.js"></script>
        <script src="lib/upload.js"></script>

        <script src="javascripts/models/answer-list.js"></script>
        <script src="javascripts/models/answer.js"></script>
        <script src="javascripts/models/activity.js"></script>
        <script src="javascripts/models/comment-list.js"></script>
        <script src="javascripts/models/question-list.js"></script>
        <script src="javascripts/models/question.js"></script>
        <script src="javascripts/models/settings.js"></script>
        <script src="javascripts/views/QuestionListView.js"></script>
        <script src="javascripts/views/QuestionView.js"></script>
        <script src="javascripts/views/CameraView.js"></script>
        <script src="javascripts/views/AnswerListView.js"></script>
        <script src="javascripts/views/AnswerView.js"></script>
        <script src="javascripts/views/ActivityView.js"></script>
        <script src="javascripts/views/ActivityListView.js"></script>
        <script src="javascripts/views/PostAnswerView.js"></script>
        <script src="javascripts/views/PostQuestionView.js"></script>
        <script src="javascripts/views/CommentListView.js"></script>
        <script src="javascripts/views/SettingsView.js"></script>
    </head>
    <body>
        <div id="menu">
            <h3>Main Menu</h3>
            <ul>
                <li class="active"><a href="#homePage" class="contentLink">Questions </a></li>
            </ul>
            <h3>Profile</h3>
            <ul>
                <li><a href="#activityPage" class="contentLink" onclick="router.gotoActivityView(1);">Activity </a></li>
                <li><a href="#testPage" class="contentLink">Badges </a></li>
                <li><a href="#home" class="contentLink">Skill Card </a></li>
            </ul>
            <h3>Options</h3>
            <ul>
                <li><a href="#settingsPage" class="contentLink" onclick="router.gotoSettingsPage();">Settings </a></li>
            </ul>
        </div>
        <!-- HOME PAGE -->
        <div data-role="page" id="homePage">
            <div data-theme="a" data-role="header" >
                <a href="#" class="showMenu menuBtn capricorn-menu"></a>
                <h3>
                    Questions
                </h3>
                <a href="#postQuestion" data-transition="slide" class="capricorn-new" onclick="router.gotoPostQuestionView()"></a>
            </div>
            <div data-role="content">
                <!-- Test Code Start [Mohit]-->
                <script type="text/javascript">
                var pic_callback = function(image_data, message) {
                    if(message.length>1) {alert("Image selected ");}

                    var upload_callback = function(url, msg) {
                        if(url == null || url== undefined || url.length<1) {
                            alert("Failed to upload" + msg);
                        } else {
                            alert("Img Url " + url)
                        }
                    };
                    Upload.upload(image_data, upload_callback);
                }
                </script>
                <a href="#" onclick="Upload.getPhotoFromLibrary(pic_callback)">Select and upload Photo</a>
                <!-- Test Code Finish [Mohit] -->
                
                <div data-role="fieldcontain" style="border-bottom:none; margin: -5px 0 0 0;">
                    <form id="form1">
                        <div width="100%">
                            <input type="search" name="search" id="search-basic" value="" />
                        </div>
                    </form>
                </div>
                <div id='hint-box'>Use #tagname to search based on tags</a></div>
                <div id='question-lst'></div>
                
            </div>
        </div>
        <!-- POST QUESTION PAGE -->
        <div data-role="page" id="postQuestion">
            <div data-theme="a" data-role="header" >
                <a class="capricorn-cancel" data-rel="back">Cancel</a>
                <h3>
                    Ask Question
                </h3>
            </div>
            <div data-role="content">
                <form id="question-form">
                <div style="padding:10px 0;">
                    <label for="question-title">Tell us your question:</label>
                    <textarea placeholder="question title.." name="question-title" id="question-title" style="height:25px;" ></textarea>
                </div>
                <a class="cam-btn"><img src="css/images/photoIcon.png" style="position:absolute; right:10px;"/></a>
                <div style="padding:10px 0;">
                    <label for="question-description">Give us some details:</label>
                    <textarea placeholder="question description.." name="question-description" id="question-description" ></textarea>
                </div>
                <div id="attachment-area">
                    <table style="width:100%; border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; padding:5px;">
                        <tr>
                            <td>
                                <img id="attachment-img" src="css/images/amu.png" width="50px"></img>
                            </td>
                            <td>
                                <img class="attachment-close" src="css/images/cancelIcon_Attachment.png" style="float:right; vertical-align:center;"></img>
                            </td>
                        </tr>
                    </table>
                </div>
                <div style="padding:10px 0;">
                    <label for="question-tags">Add Tags <span class="mini-grey">(enter upto 3 tags separated by comma)</span></label>
                    <input placeholder="tags.." name="question-tags" id="question-tags"/>
                </div>
                <div data-role="fieldcontain" style="border-bottom:none; text-align:right; padding:0px;">
                    <button data-inline="true" data-mini="true" type="submit" data-theme="a" name="submit" value="submit-value">Submit Question</button>
                </div>
            </form>
            </div>
        </div>
        <!-- SHOW QUESTION PAGE -->
        <div data-role="page" id="showQuestion">
            <div data-theme="a" data-role="header">
                <a data-rel="back" class="capricorn-back">
                    <span style="margin-left:14px;">Back</span>
                </a>
                <h3>
                    Question
                </h3>
            </div>
            <div data-role="content">
                <div id="scrollable">
                    <div id="page2-content"></div>
                    <a data-theme="a" href="#postAnswer" data-transition="slide" data-role="button" onclick="router.gotoPostAnswerView(2)">Post Answer</a>
                </div>
            </div>
        </div>
        <!-- SHOW ANSWER PAGE -->
        <div data-role="page" id="showAnswer">
            <div data-theme="a" data-role="header">
                <a data-rel="back" class="capricorn-back" onclick="router.questionView.refresh();">
                    <span style="margin-left:14px;">Back</span>
                </a>
                <h3>
                    Answer
                </h3>
                <a href="#page2" data-transition="none" class="capricorn-new"></a>
            </div>
            <div data-role="content">
                
                <div>
                    <div id="showAnswerContent"></div>
                    <div data-role="fieldcontain" style="border-bottom:none;">
                        <textarea name="textarea" id="comment-box" placeholder="write a comment.."></textarea>
                        <a class="post-cmnt-btn" style="float:right;" data-theme="a" data-role="button" data-inline="true" data-mini="true">Post Comment</a>
                    </div>
                </div>
            </div>

        </div>
        <div data-role="page" id="postAnswer">
            <div data-theme="a" data-role="header">
                <a data-role="button" data-rel="back" data-theme="a" data-icon="arrow-l" data-iconpos="left">
                    Cancel
                </a>
                <h3>
                    Answer
                </h3>
            </div>
            <div data-role="content">
                <div id="postAnswer-content"></div>
                <div data-role="fieldcontain" style="border-bottom:none;">
                    <textarea name="textarea" id="answer-area" placeholder="write an answer.."></textarea>
                    <a id="post-ans-btn" style="float:right;" data-theme="a" data-role="button" data-inline="true" data-mini="true">Post Answer</a>
                </div>
            </div>
        </div>
        <!-- USER ACTIVITY PAGE -->
        <div data-role="page" id="activityPage">
            <div data-theme="a" data-role="header">
                <a href="#"class="showMenu menuBtn capricorn-menu"></a>
                <h3>
                    Activity
                </h3>
            </div>
            <div data-role="content">
                <div>
                    <div id="activity-content"></div>
                    <div id="activity-lst"></div>
                </div>
            </div>
        </div>
        <!-- USER SETTINGS PAGE -->
        <div data-role="page" id="settingsPage">
            <div data-theme="a" data-role="header">
                <a href="#"class="showMenu menuBtn capricorn-menu"></a>
                <h3>
                    Settings
                </h3>
            </div>
            <div data-role="content">
                <div id="settings-content">
                    
                </div>
            </div>
        </div>
        <!-- FB Page use it to load settings, login etc. -->
        <div data-role="page" id="facebookPage">
             <div data-theme="a" data-role="header">
                <a data-role="button" data-rel="back" data-theme="a" data-icon="arrow-l" data-iconpos="left">
                    Back
                </a>
                <h3>
                    Facebook Settings

                </h3>
            </div>
            <div data-role="content">
               <button id="facebookLoginBTN"> Login</button>
               <form>
                <input id="statusTXT" name ="statusTXT" type="text" />
                <button id="statusBTN" name="statusBTN"> Submit Status</button> 
               </form>
            </div>
        </div>
        <!-- END OF FB PAGE -->
        <div data-role="page" id="page12">
            <div data-theme="a" data-role="header">
                <a data-role="button" data-rel="back" data-theme="a" data-icon="arrow-l" data-iconpos="left">
                    Cancel
                </a>
                <h3>
                    Answer
                </h3>
            </div>
            <div data-role="content">
                <div>
                <!-- Bare Bone HTML -->
                  <button id="capturePhotoBtn">Capture Photo</button> <br>
                  <button id="capturePhotoEditBtn">Capture Editable Photo</button> <br>
                  <button id="getPhotoFromLibrary">From Photo Library</button><br>
                  <button id="getPhotoFromAlbum">From Photo Album</button><br>
                  <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
                  <img style="display:none;" id="largeImage" src="" />
                </div>
            </div>
        </div>
        <div data-role="page" id="loginPage">
            <div data-theme="a" data-role="header">
                <a href="#"class="showMenu menuBtn capricorn-menu"></a>
                <h3>
                    IVLE Login
                </h3>
                <a href="#page1" class="capricorn-new" onclick="test.run()"></a>
            </div>
            <div data-role="content">
                <h2>myIVLE</h2>
                <b>Welcome <span id="lbl_Name"><img src="http://ivle.nus.edu.sg/images/spinner.gif" /></span></b>
                <br /><br />
                Modules you are takng this semester<br />
                <span id="lbl_Modules"><img src="http://ivle.nus.edu.sg/images/spinner.gif" /></span>

                <hr /><h3>Trace</h3>
                <div>Get UserName<br />
                <span id="dbg_UserInfo" />
                </div>
                <br />
                <div>Get Module Info<br />
                <span id="dbg_Modules" />
                <br />
            </div>
        </div>
        
        <script>
            //App custom javascript
            </script>
    </body>
</html>